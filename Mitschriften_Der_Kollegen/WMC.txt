
Warning gibt es 10% Abzug

UseCase Einhaltungen dürfen nicht auf Systemebene validiert werden

Behandlung der Fehler nicht in API Controller

nicht wiederholen, also die Valiadtion nicht mehrfach

auf Command Ebene UseCase Validation machen

Domain Validation darf nichts reinlassen grundsätzlich (unabhängig) Vertrag (Contract) mitgeben

Layer darüber ist der UseCase Layer ( Application Layer) - CommandHandler (Query / Validation)

			--> Application Pipeline ( Middleware) - zum Bsp.: Swagger
			--> Request-Pipeline (Mediator) macht dann eine Validation
			--> wenn Validation fertig, dann weiter zu Commandhandler
			--> FluentValidation (ValidationException)  - wandelt dann gleich in http response um
			--> API Middleware fängt Exceptions ab
			--> ValidationBehavior wird vor CommandValidation gereiht
			


Internal und external

int -> auf Entität selbst
ext -> externe Service zum Überprüfen

Überfüfung wenn ich Interface nehme 

Infrastructure  externe Service, Datenbank

beim Test, evtl. Entitäten anlegen, nullable nur mit Absicht - string?

Navigation property ! legt automatisch Liste an und sonst null

class Result --> 

Feature Controller also zum Bsp.: Sensor Controller hat Feature und Commands da gibt es dann Command, CommandHandler, CommandValidation

Request Pipeline Handler vor DB anlegen, logischerweise

API --> Respones (ValidationExceptionMiddleware und ResultExtensions) sind immer gleich  


ResultExtensions  204 wenn gelöscht wird 


-------------------------------------------------------

-- In Controllern die Actions ausformulieren
-- SensorUniquenessChecker selber schreiben
-- Methode Handle in CommandHandler implementieren
-- Infrastructure - Repository erstellen für Entitäten		
-- AppDbContext EntitySet	



Aufgabe: AddMeasurement, Get  nicht mehr als ein paar 100 aufrufen
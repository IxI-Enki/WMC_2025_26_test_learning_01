# ğŸ“š WMC Clean Architecture - Repository Strategy Overview

## ğŸ¯ Was ist hier dokumentiert?

Dieses Verzeichnis enthÃ¤lt die **vollstÃ¤ndige Strategie** fÃ¼r den Aufbau und die Verwaltung des WMC Clean Architecture Learning Repository.

---

## ğŸ“„ Dokumente

### 1. [GITHUB_REPOSITORY_STRAT.md](./GITHUB_REPOSITORY_STRAT.md)
**Die Hauptstrategie - START HIER!**

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BRANCH STRATEGIE MIT ASCII-ART             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ 5 Branch-Typen definiert                     â”‚
â”‚  â€¢ Repository-Struktur visualisiert             â”‚
â”‚  â€¢ Schwierigkeitsgrade (Level 1-4) erklÃ¤rt      â”‚
â”‚  â€¢ Quality Gates pro Branch                     â”‚
â”‚  â€¢ Initial Setup Commands                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Inhalt:**
- ğŸŒ³ **Branch-Strategie** mit vollstÃ¤ndiger Visualisierung
- ğŸ“ **Repository-Struktur** fÃ¼r master, dev, solution/*, support/hints, ai-workspace
- ğŸ“ **Exercise Levels** (1: Guided â†’ 4: Exam)
- ğŸš€ **Setup-Commands** fÃ¼r initiale Branch-Erstellung
- âœ… **Quality Checklists** fÃ¼r jeden Branch

---

### 2. [BRANCH_MANAGEMENT.md](./BRANCH_MANAGEMENT.md)
**Praktische Anleitung fÃ¼r Branch-Verwaltung**

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      WORKFLOWS & DAILY OPERATIONS               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Schritt-fÃ¼r-Schritt Setup                    â”‚
â”‚  â€¢ Standard-Workflows                           â”‚
â”‚  â€¢ Branch-Protection Rules                      â”‚
â”‚  â€¢ Notfall-Szenarien                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Inhalt:**
- ğŸ”§ **Initiales Setup** - Wie erstelle ich alle Branches?
- ğŸ”„ **Workflows** - Neue Ãœbung, LÃ¶sung, Hints erstellen
- ğŸ›¡ï¸ **Branch Protection** - GitHub Settings
- ğŸ” **Branch-Status** - Wie Ã¼berprÃ¼fe ich alles?
- ğŸš¨ **Notfall-Szenarien** - Was tun bei Problemen?
- âœ… **Pre-Push Checklists** - Vor jedem Push prÃ¼fen

---

### 3. [MITSCHRIFTEN_VALIDIERUNG.md](./MITSCHRIFTEN_VALIDIERUNG.md)
**Validierung der Kollegen-Notizen gegen Template**

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      STUDENT NOTES VALIDATION                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… BestÃ¤tigte Konzepte                         â”‚
â”‚  âš ï¸  Zu klÃ¤rende Punkte                         â”‚
â”‚  âŒ Korrekturbedarf                             â”‚
â”‚  ğŸ“Š Validierungs-Matrix                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Inhalt:**
- âœ… **BestÃ¤tigt**: Validierungs-Ebenen, CQRS, Result Pattern, Repository Pattern
- âš ï¸ **Zu klÃ¤ren**: ModelCreating, DataSeeder, Update ID-Check
- âŒ **WICHTIGE KORREKTUR**: "Validation gehÃ¶rt IN die Factory-Methode, nicht nachtrÃ¤glich!"
- ğŸ“Š **Validierungs-Matrix** - Was stimmt, was nicht?
- ğŸ¯ **Empfehlungen** fÃ¼r Ãœbungs-Entwicklung

**Wichtigste Erkenntnis:**
```csharp
// âŒ FALSCH (laut Mitschrift):
// "ALS ERSTES ENTITIES ANLEGEN (OHNE VALIDATION AM ANFANG!)"

// âœ… RICHTIG (laut Template):
public static async Task<Book> CreateAsync(...)
{
    ValidateBookProperties(...);  // â† SOFORT!
    await ValidateBookExternal(...);
    return new Book { ... };
}
```

---

### 4. [EXERCISE_PROGRESSION.md](./EXERCISE_PROGRESSION.md)
**Detaillierte Schwierigkeitsgrad-Definition**

```ascii
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SCAFFOLDING PRINCIPLE                      â”‚
â”‚      (GerÃ¼st-Reduktion)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Level 1: Maximum Guidance     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ         â”‚
â”‚  Level 2: Structural Guidance  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘         â”‚
â”‚  Level 3: Conceptual Guidance  â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘         â”‚
â”‚  Level 4: Exam Scenario        â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Inhalt:**
- ğŸ“ **Level 1**: Guided Implementation (Event Management)
  - Alle Klassen vorhanden, 1-2 Beispiele komplett
  - Student implementiert nur TODO-Methoden
  - Sehr ausfÃ¼hrliches README
  
- ğŸ“ **Level 2**: Structural Guidance (Library Management)
  - Ordnerstruktur + GerÃ¼ste
  - Student erstellt Commands/Queries selbst
  - Mittel-detailliertes README
  
- ğŸ“ **Level 3**: Conceptual Guidance (Device Management)
  - Nur README + Tests
  - Student baut ALLES selbst
  - Minimal README
  
- ğŸ“ **Level 4**: Exam Scenario
  - Nur Anforderungsdokument
  - Zeitlimit 3-4h
  - Keine Hilfe

**Progression-Matrix:**
| Aspect | L1 | L2 | L3 | L4 |
|--------|----|----|----|----|
| Entities | âœ… | âš ï¸ | âš ï¸ | âš ï¸ |
| Commands | âš ï¸ | âš ï¸ | âš ï¸ | âš ï¸ |
| Repos | âœ… | âš ï¸ | âš ï¸ | âš ï¸ |
| README | âœ…âœ…âœ… | âœ…âœ… | âœ… | âš ï¸ |

---

## ğŸš€ Quick Start - NÃ¤chste Schritte

### 1. **DEV BRANCH ERSTELLEN** (SOFORT!)

```powershell
# WICHTIG: Von EXAKT diesem Stand!
git checkout feature/books-implementation-with-fixes
git checkout -b dev
git push -u origin dev

# Jetzt kannst du auf dev weiterarbeiten!
```

**Warum wichtig?**
- âœ… Ãœbung 02 ist vollstÃ¤ndig implementiert
- âœ… CSV-Seeding funktioniert
- âœ… Books mit Author-Navigation korrekt
- âœ… Alle Fixes sind drin

### 2. **SOLUTION BRANCH** (Ãœbung 02)

```powershell
git checkout dev
git checkout -b solution/uebung-02

# README fÃ¼r LÃ¶sungs-Branch anpassen:
# - LÃ¶sungshinweise hinzufÃ¼gen
# - ErklÃ¤rungen zu komplexen Teilen
# - Best Practices dokumentieren

git add -A
git commit -m "solution: Complete Library Management System"
git push -u origin solution/uebung-02
```

### 3. **MAIN BRANCH VORBEREITEN** (Level 2)

```powershell
git checkout master

# Ãœbung 02 von solution Ã¼bernehmen:
git checkout solution/uebung-02 -- CleanArchitecture_Uebung_02/

# JETZT: Level 2 Style anwenden:
# 1. Commands/Handlers/Validators LÃ–SCHEN (nur Ordner behalten)
# 2. Entities: Nur GerÃ¼ste lassen
# 3. ValidationSpecifications: LEEREN
# 4. DTOs: LÃ–SCHEN
# 5. Services: LEEREN
# 6. Controller: Nur GerÃ¼ste

# README.md fÃ¼r Studenten schreiben (siehe EXERCISE_PROGRESSION.md)

git add -A
git commit -m "feat: Prepare Uebung 02 for students (Level 2)"
git push origin master
```

### 4. **AI-WORKSPACE BRANCH** (fÃ¼r dich)

```powershell
git checkout --orphan ai-workspace
git rm -rf .

# Struktur erstellen:
mkdir -p .ai/prompts .ai/templates .ai/checklists .ai/workflows
mkdir -p references scripts docs

# Template kopieren:
xcopy /E /I CleanArchitecture_Template references\CleanArchitecture_Template
xcopy /E /I FruehereAufgabenstellungen references\FruehereAufgabenstellungen
xcopy /E /I Mitschriften_Der_Kollegen references\Mitschriften_Der_Kollegen

# REPO__STRAT Dokumente kopieren:
xcopy /E /I REPO__STRAT docs\

git add -A
git commit -m "docs: Initialize AI workspace with references"
git push -u origin ai-workspace
```

### 5. **SUPPORT/HINTS BRANCH** (Hilfe-System)

```powershell
git checkout --orphan support/hints
git rm -rf .

# Hint-Struktur:
mkdir -p hints\uebung-01\01-domain-validations
mkdir -p hints\uebung-01\02-commands-handlers
mkdir -p hints\uebung-01\03-controllers
mkdir -p hints\uebung-02\01-csv-seeding
mkdir -p hints\uebung-02\02-navigation-properties
mkdir -p hints\uebung-02\03-repository-methods
mkdir -p common-issues

# Hints erstellen (siehe unten)

git add -A
git commit -m "docs: Create hint system for exercises"
git push -u origin support/hints
```

---

## ğŸ“ Hint-System Beispiel

### hints/uebung-02/02-navigation-properties/hint-1-grundlagen.md

```markdown
# Hint 1: Navigation Properties Grundlagen

## Problem
BookRepository gibt Books zurÃ¼ck, aber `Author` ist immer `null`?

## ErklÃ¤rung
Entity Framework lÃ¤dt standardmÃ¤ÃŸig KEINE Navigation Properties!

## LÃ¶sung
Verwende `.Include()` in deinen Repository-Methoden:

```csharp
public override async Task<Book?> GetByIdAsync(int id, CancellationToken ct = default)
{
    return await Set
        .Include(b => b.Author)  // â† Wichtig!
        .FirstOrDefaultAsync(b => b.Id == id, ct);
}
```

## Weitere Schritte
- Hint 2: Mapster Configuration
- Hint 3: VollstÃ¤ndiger Code
```

---

## ğŸ¯ Ãœbersicht: Was ist wo?

| Branch | Zweck | Status | FÃ¼r wen? |
|--------|-------|--------|----------|
| **master** | Student Entry Point | âš ï¸ TODO | Studenten |
| **dev** | Development | âœ… Bereit | Du |
| **solution/uebung-01** | VollstÃ¤ndige LÃ¶sung 01 | âš ï¸ TODO | Dozent/Student |
| **solution/uebung-02** | VollstÃ¤ndige LÃ¶sung 02 | âœ… Bereit | Dozent/Student |
| **support/hints** | Hilfe-System | âš ï¸ TODO | Studenten |
| **ai-workspace** | AI References | âš ï¸ TODO | Du + AI |

---

## âœ… Checklist fÃ¼r Repository-Aufbau

### Phase 1: Branches erstellen
- [ ] `dev` Branch von aktuellem Stand
- [ ] `solution/uebung-02` Branch mit vollstÃ¤ndiger LÃ¶sung
- [ ] `ai-workspace` Branch (orphan) mit Referenzen
- [ ] `support/hints` Branch (orphan) mit Hilfe-System

### Phase 2: master Branch vorbereiten
- [ ] Ãœbung 01: Level 1 Style (Guided Implementation)
- [ ] Ãœbung 02: Level 2 Style (Structural Guidance)
- [ ] Ãœbung 03: Konzipieren (Level 3?)

### Phase 3: LÃ¶sungen erstellen
- [ ] `solution/uebung-01` komplettieren
- [ ] `solution/uebung-02` dokumentieren
- [ ] Tests fÃ¼r beide Ãœbungen

### Phase 4: Hints erstellen
- [ ] Ãœbung 01: 3 Hint-Level pro Aufgabe
- [ ] Ãœbung 02: 3 Hint-Level pro Aufgabe
- [ ] Common Issues Dokumentation

### Phase 5: AI-Workspace
- [ ] Prompts fÃ¼r Ãœbungs-Generierung
- [ ] Templates fÃ¼r Code-Scaffolding
- [ ] Checklists fÃ¼r Quality Gates
- [ ] Workflows dokumentieren

### Phase 6: GitHub Setup
- [ ] Branch Protection Rules aktivieren
- [ ] README.md im Root
- [ ] CONTRIBUTING.md
- [ ] Tags fÃ¼r Semester-Versionen

---

## ğŸ”¥ WICHTIGSTE ERKENNTNISSE

### 1. **Validation gehÃ¶rt IN Factory-Methoden!**
```csharp
// âœ… RICHTIG:
public static async Task<Entity> CreateAsync(...)
{
    ValidateProperties(...);     // â† SOFORT
    await ValidateExternal(...);  // â† SOFORT
    return new Entity { ... };
}
```

### 2. **Navigation Properties + .Include()**
```csharp
// âœ… In Repository:
return await Set
    .Include(b => b.Author)
    .FirstOrDefaultAsync(...);
```

### 3. **3 Validierungs-Ebenen**
- **Domain**: Grundregeln (immer)
- **FluentValidation**: UseCase-spezifisch
- **External**: Via Services (Uniqueness)

### 4. **Scaffolding-Prinzip**
Level 1 â†’ 2 â†’ 3 â†’ 4: GerÃ¼st wird schrittweise reduziert

### 5. **Template ist OBERSTE AUTORITÃ„T**
Bei WidersprÃ¼chen: Template > Mitschriften

---

## ğŸ“š Weitere Ressourcen

- **Template:** `CleanArchitecture_Template/` - IMMER als Referenz!
- **Ãœbung 01:** `CleanArchitecture_Uebung_01/` - Teilweise implementiert
- **Ãœbung 02:** `CleanArchitecture_Uebung_02/` - VollstÃ¤ndig (auf dev)
- **Devices:** `FruehereAufgabenstellungen/devices.md` - Zielformat fÃ¼r Angaben

---

## ğŸ¤ Kontakt & Support

Bei Fragen zur Strategie:
1. Lese zuerst [GITHUB_REPOSITORY_STRAT.md](./GITHUB_REPOSITORY_STRAT.md)
2. PrÃ¼fe [BRANCH_MANAGEMENT.md](./BRANCH_MANAGEMENT.md) fÃ¼r Workflows
3. Konsultiere [EXERCISE_PROGRESSION.md](./EXERCISE_PROGRESSION.md) fÃ¼r Level-Details

---

**Status:** âœ… Strategie vollstÃ¤ndig dokumentiert  
**NÃ¤chster Schritt:** Dev Branch erstellen und weiterarbeiten!  
**Version:** 1.0  
**Erstellt:** 2025-11-16
